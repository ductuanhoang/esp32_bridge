

/***********************************************************************************************************************
* Pragma directive
***********************************************************************************************************************/

/***********************************************************************************************************************
* Includes <System Includes>
***********************************************************************************************************************/
#include "CAN.h"
#include "mcp2515.h"

/***********************************************************************************************************************
* Macro definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
* Typedef definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
* Private global variables and functions
***********************************************************************************************************************/
static can_messge_call_back_t mcp2515_callback;
/***********************************************************************************************************************
* Exported global variables and functions (to be accessed by other files)
***********************************************************************************************************************/

/***********************************************************************************************************************
* Imported global variables and functions (from other files)
***********************************************************************************************************************/

/**
 * @brief Initializes the CAN module.
 *
 * This function initializes the CAN module.
 */
void CAN_Init(void)
{

}


/**
 * @brief Registers a callback function for CAN messages.
 *
 * This function allows you to register a callback function that will be called whenever a CAN message is received.
 *
 * @param callback The callback function to be registered.
 */
void CANRegisterCallback(can_messge_call_back_t callback)
{
    mcp2515_callback = callback;
}

/**
 * @brief Task to recieve CAN messages.
 *
 * This task is responsible for recieving CAN messages.
 */
void CAN_Recieve_Task(void *pvParameters)
{
    while (1)
    {
        if(mcp2515_callback != NULL)
        {
            mcp2515_callback(NULL, 0);
        }
        vTaskDelay(1000 / portTICK_PERIOD_MS);
    }
}

/**
 * Sends a CAN message.
 *
 * @param message The pointer to the message to be sent.
 * @param len The length of the message.
 */
void CAN_Send(uint8_t *message, size_t len)
{

}
/***********************************************************************************************************************
* static functions
***********************************************************************************************************************/

/***********************************************************************************************************************
* End of file
***********************************************************************************************************************/